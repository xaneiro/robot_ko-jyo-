# ロボットコージョー ガチャ - AGENTSガイド

プログラムを書かなくても、このプロジェクトを扱うための手引きです。

## プロジェクト概要
- ブラウザだけで動くガチャ＆図鑑アプリ（React + Vite）
- 画像と音声をローカルから読み込み、localStorageで入手状況を保持（※今のコードでは起動時に毎回クリアされる）
- 主なボタン: 「ガチャ」「組み立てる（キャンバス）」「戦闘（通常表示に戻る）」「全キャラ入手（デバッグ用）」
- タブ: 足立図鑑（全カード一覧）/ 所持カード一覧（重ね積み表示）/ 実績（未実装）

## ファイル構成（よく触るところ）
- `src/App.jsx` … 画面の中身・動き。先頭の `FILES = [...]` がガチャで出る画像ファイル名一覧（`.png`拡張子付き）。文言・ボタン表示もここで編集。
- `src/styles.css` … 見た目（色・レイアウト・アニメーション）。
- `public/images/` … ガチャに使う画像。`/images/ファイル名` で参照される。
- `public/bgm/bgm1.mp3` … BGM。
- `public/se/se1.mp3` ～ `public/se/se7.mp3` … 効果音。
- 補足: エントリーポイントは `src/main.jsx`。ビルド設定は `vite.config.js`。npmスクリプトは `package.json` に記載。

## 触らないもの
- `dist/` … ビルド結果（公開用）。手で編集しない。
- `node_modules/` … ライブラリ。手で編集・削除しない。
- ルート直下の `images/` … 実際のアプリは `public/images/` を参照するので通常は不要。

## 動かし方（プレビュー）
1) 初回だけ依存を入れる: `npm install`  
2) 開発サーバー起動: `npm run dev`  
3) ターミナルに出る URL（例: `http://localhost:5173/`）をブラウザで開く  
4) 終了: ターミナルで `Ctrl + C`

## 公開手順
1) ビルド: `npm run build`（`dist/` が更新される）  
2) 確認: `npm run preview`（表示された URL を開く）  
3) サーバーにアップするのは `dist/` の中身だけ（`src/` や `node_modules/` は不要）  
4) GitHub Pages などサブフォルダ配下に置く場合は、`vite.config.js` に `base` 設定が必要になることがある

## 動きの仕様メモ
- 起動直後の `useEffect` で `localStorage` をクリアしているため、ページをリロードすると入手状況やキャンバス配置がリセットされる。残したい場合はこの `useEffect` を削除/コメントアウトする。
- 「組み立てる」モード: 所持カード一覧からドラッグでキャンバスに貼り付け。選択中に `Delete/Backspace` で削除。
- 「全キャラ入手」: 全カードを入手済みにし、枚数を1ずつ付与するデバッグ用ボタン。
- 「戦闘」: 表示モードを通常に戻すだけ（特別な処理はない）。
- BGM はブラウザの仕様で初回クリック後に再生開始。ON/OFFボタンと音量スライダーあり。

## よくある変更（AIに頼むテンプレ）
`【】` を埋めて依頼するとスムーズです。

- タイトルを変えたい  
  「`index.html` の `<title>` と、`src/App.jsx` の `<h1>` を【新しいタイトル】に変更して」

- 下の説明文（ページ最下部）を変えたい  
  「`src/App.jsx` の末尾にある `<p className="small">` の文章を【新しい文章】に変更して」

- ガチャに出る画像を追加したい  
  「`public/images/` に【ファイル名.png】を追加して、`src/App.jsx` 先頭の `FILES` 配列にも同じファイル名を追加して」  
  ※ 画面に出る名前はファイル名から `.png` を外したもの

- ガチャに出る画像を減らしたい  
  「`src/App.jsx` の `FILES` から【消したいファイル名.png】を削除して（必要なら `public/images/` の画像も削除して）」

- BGM/効果音を差し替えたい  
  「`public/bgm/bgm1.mp3` を【新しいBGM】に差し替えて」  
  「`public/se/se3.mp3`（など該当番号）を【新しい効果音】に差し替えて」

- 「全キャラ入手」ボタンを消したい  
  「`src/App.jsx` の `全キャラ入手` ボタンを非表示または削除して」

- 収集状況をリロード後も残したい  
  「`src/App.jsx` で localStorage を消している `useEffect` を削除/コメントアウトして、引いた結果が保存されるようにして」
