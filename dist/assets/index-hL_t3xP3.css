:root{--bg1:#2d333b;--bg2:#3c434c;--card:#111b29;--card-got:#f8fbff;--card-locked:#000000;--text:#eaf6ff;--text-dark:#0b1a2c;--muted:#7fa0c7;--accent:#4de1ff;--metal-light:#eef0f3;--metal-mid:#9ba1aa;--metal-dark:#2e333a}body{margin:0;font-family:Yu Gothic UI,Yu Gothic,Meiryo,Noto Sans JP,Segoe UI,system-ui,-apple-system,sans-serif;color:var(--text);background:radial-gradient(circle at 50% 40%,rgba(90,100,110,.12),transparent 34%),radial-gradient(circle at 50% 60%,rgba(60,70,80,.1),transparent 40%),repeating-linear-gradient(0deg,rgba(255,255,255,.015) 0 1px,transparent 1px 4px),repeating-linear-gradient(90deg,rgba(255,255,255,.015) 0 1px,transparent 1px 4px),linear-gradient(180deg,#3c434c,#2d333b);background-color:#2d333b;min-height:100vh}.wrap{max-width:1180px;margin:0 auto;padding:30px 24px 60px;position:relative}h1{font-size:20px;margin:0 0 16px;font-weight:800;letter-spacing:.04em;color:var(--text);text-shadow:0 0 14px rgba(77,225,255,.25);position:relative;z-index:2}.machine-shell{position:relative;padding:42px 36px 56px;background:linear-gradient(180deg,#5a6068,#3c4149);border-radius:22px;box-shadow:inset 0 1px #fff6,inset 0 -4px 10px #00000059,0 18px 32px #0000008c,0 0 30px #00000073;overflow:visible}.machine-shell:before,.machine-shell:after{content:"";position:absolute;left:0;right:0;border-radius:18px;pointer-events:none}.machine-shell:before{top:-110px;height:100px;width:68%;margin:0 auto;background:linear-gradient(180deg,#666e78,#4a525c 60%,#353b44);box-shadow:inset 0 1px #ffffff59,inset 0 -3px 8px #0006,0 14px 22px #00000073;border:1px solid rgba(0,0,0,.35)}.machine-shell:after{bottom:-70px;height:68px;width:92%;margin:0 auto;background:linear-gradient(180deg,var(--metal-dark) 0%,#1d2127 100%);box-shadow:inset 0 1px #ffffff40,inset 0 -2px 6px #00000080,0 -6px 12px #00000059;border:1px solid rgba(0,0,0,.45)}.hazard-bar{position:absolute;bottom:-38px;left:50%;transform:translate(-50%);width:320px;height:18px;border-radius:6px;background:repeating-linear-gradient(135deg,#f7c500 0 14px,#22252b 14px 26px);box-shadow:inset 0 1px #fff6,0 4px 10px #00000073;z-index:4}.side-panel{position:absolute;top:30px;bottom:30px;width:72px;background:linear-gradient(180deg,var(--metal-light) 0%,#cfd3d8 45%,var(--metal-mid) 100%);border:1px solid rgba(0,0,0,.35);box-shadow:inset 0 1px #ffffff80,inset 0 -3px 6px #00000059;z-index:1}.side-panel.left{left:-40px;border-radius:18px 0 0 18px}.side-panel.right{right:-40px;border-radius:0 18px 18px 0}.side-window{position:absolute;inset:20px 12px 120px;background:linear-gradient(180deg,#4c525a,#2f343c);border-radius:12px;box-shadow:inset 0 1px #ffffff40,inset 0 -3px 8px #0006}.panel{background:linear-gradient(180deg,#242b34,#1a1f27);border:1px solid rgba(77,225,255,.25);border-radius:14px;padding:20px;box-shadow:inset 0 0 0 1px #ffffff0d,0 18px 32px #00000073;position:relative;overflow:hidden;z-index:3}.panel:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(0deg,rgba(255,255,255,.03) 0 1px,transparent 1px 3px);mix-blend-mode:screen;opacity:.6;pointer-events:none}.monitor-bar{background:linear-gradient(180deg,#0f1a2be6,#090e17e6);border:1px solid rgba(77,225,255,.25);border-radius:12px;padding:12px 14px;box-shadow:inset 0 0 0 1px #ffffff0d,0 0 18px #4de1ff26;display:flex;gap:12px;flex-wrap:wrap;align-items:center}.monitor-btn{position:relative;padding:11px 16px;border:1px solid rgba(77,225,255,.45);background:linear-gradient(180deg,#4de1ff40,#4de1ff1a);color:var(--text);font-weight:800;letter-spacing:.05em;cursor:pointer;border-radius:10px;box-shadow:0 0 12px #4de1ff59,inset 0 1px #ffffff1f;text-transform:uppercase;transition:transform .08s ease,box-shadow .08s ease}.monitor-btn:hover{transform:translateY(-1px);box-shadow:0 0 16px #4de1ff80,inset 0 1px #ffffff2e}.monitor-btn:active{transform:translateY(0);box-shadow:0 0 10px #4de1ff66}.monitor-btn:disabled{opacity:.45;cursor:not-allowed;transform:none;box-shadow:0 0 8px #4de1ff33}.monitor-screen{position:relative;margin-top:16px;padding:18px;border-radius:20px;background:linear-gradient(180deg,#6c747f,#2f333a);box-shadow:inset 0 3px #ffffff59,inset 0 -4px 10px #00000073,0 18px 40px #0000008c;overflow:hidden}.monitor-bezel{position:relative;background:linear-gradient(180deg,#1c2028,#0f131a);border-radius:14px;padding:14px 14px 56px;border:2px solid #0c0f15;box-shadow:inset 0 1px #ffffff14,inset 0 -2px 6px #00000080,0 0 0 1px #0006;display:flex;flex-direction:column;gap:0}.monitor-bezel:before,.monitor-bezel:after{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#fff,#9aa5b5 50%,#3a4450 80%);box-shadow:inset 0 1px #fff6}.monitor-bezel:before{top:10px;left:10px}.monitor-bezel:after{top:10px;right:10px}.screen-inner{position:relative;border-radius:10px;background:radial-gradient(circle at 20% 20%,rgba(77,225,255,.08),transparent 45%),radial-gradient(circle at 80% 30%,rgba(136,255,186,.06),transparent 45%),linear-gradient(180deg,#0c141ff2,#0a0f18f5);min-height:420px;box-shadow:inset 0 0 0 1px #ffffff0d,inset 0 0 0 2px #0009;overflow:hidden;border:3px solid #181c24;display:flex;align-items:center;justify-content:center;flex:1 1 auto;width:100%}.screen-noise{position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen;background-image:repeating-linear-gradient(0deg,rgba(255,255,255,.12) 0 1px,transparent 1px 2px),repeating-linear-gradient(90deg,rgba(255,255,255,.08) 0 1px,transparent 1px 3px),radial-gradient(circle at 20% 30%,rgba(255,255,255,.12),transparent 42%),radial-gradient(circle at 80% 60%,rgba(255,255,255,.08),transparent 46%);opacity:.72;animation:noiseScroll 1.2s linear infinite}@keyframes noiseScroll{0%{background-position:0 0,0 0,0 0}to{background-position:0 40px,0 12px,0 -24px}}.console{position:absolute;left:14px;right:14px;bottom:12px;height:56px;background:linear-gradient(180deg,#1b2027,#0e1118);border:1px solid rgba(0,0,0,.6);border-radius:10px;box-shadow:inset 0 1px #ffffff14,inset 0 -2px 5px #00000080;display:flex;align-items:center;gap:10px;padding:6px 10px}.console .lamp{width:18px;height:18px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#fff,currentColor 55%,#111 100%);box-shadow:0 0 8px currentColor,inset 0 1px 1px #ffffff80}.console .lamp.red{color:#e86a6a}.console .lamp.green{color:#7ee07a}.console .lamp.amber{color:#e6c05e}.console .lamp.blue{color:#63c7ff}.console .volume{display:flex;align-items:center;gap:8px;width:190px}.console .volume label{font-size:12px;color:var(--muted)}.console input[type=range]{flex:1;-webkit-appearance:none;height:8px;border-radius:6px;background:linear-gradient(180deg,#d1d6de,#8c94a0);box-shadow:inset 0 1px #fff9,inset 0 -1px 2px #0000004d}.console input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:linear-gradient(180deg,#6cc7ff,#2f6b9c);box-shadow:0 2px 4px #0006,inset 0 1px #ffffffb3}.console input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:linear-gradient(180deg,#6cc7ff,#2f6b9c);box-shadow:0 2px 4px #0006,inset 0 1px #ffffffb3;border:none}.console .toggle{padding:6px 10px;border-radius:8px;border:1px solid rgba(255,255,255,.15);background:linear-gradient(180deg,#2b313a,#1a1f27);color:var(--text);font-size:12px;cursor:pointer;box-shadow:inset 0 1px #ffffff2e,0 2px 6px #00000059}.result{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;min-height:420px;padding:14px;width:100%}.card{box-sizing:border-box;width:100%;max-width:720px;padding:14px;border-radius:12px;border:1px solid rgba(77,225,255,.15);background:var(--card);color:var(--text);box-shadow:0 12px 28px #00000040,inset 0 0 0 1px #ffffff0a;transition:box-shadow .15s ease,transform .15s ease}.card.with-image{display:grid;grid-template-columns:1fr;gap:12px;align-items:stretch}@media(min-width:760px){.card.with-image{grid-template-columns:260px 1fr}}.card.got{background:var(--card-got);border-color:#88ffba59;box-shadow:0 12px 30px #0000004d;color:var(--text-dark)}.history .card{position:relative;box-sizing:border-box;width:100%;max-width:none;transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease;cursor:pointer}.history .card:hover{transform:translateY(-2px);box-shadow:0 16px 30px #00000059,inset 0 0 0 1px #4de1ff38;border-color:#4de1ff40}.card.locked{background:var(--card-locked);border-color:#ffffff0f;color:#dfe5f0;box-shadow:0 10px 24px #00000059}.thumb{border-radius:10px;overflow:visible;background:linear-gradient(145deg,#182330,#0f1824);border:1px solid rgba(77,225,255,.18);display:flex;align-items:center;justify-content:center;padding:6px}.card.got .thumb{background:#fff;border-color:#00000014}.card.locked .thumb{background:#000;border-color:#222835;color:#7fa0c7}.thumb img{width:100%;height:320px;object-fit:contain;display:block}.thumb.small{width:120px;height:120px;padding:5px;margin:0 auto}.thumb.small img{max-height:110px;width:100%;height:100%;object-fit:contain}.item{font-size:16px;font-weight:800;margin:6px 0;letter-spacing:.02em}.card.locked .item{color:#dfe5f0}.meta{margin-top:8px;display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);font-size:12px}.dex-monitor{margin-top:22px;background:linear-gradient(180deg,#4a5565,#1a2230);border:10px solid rgba(77,225,255,.35);border-radius:16px;box-shadow:inset 0 3px #ffffff2e,0 18px 40px #0006;position:relative}.dex-header{padding:10px 14px 6px;border-bottom:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,#4de1ff2e,#0000004d);display:flex;align-items:flex-end;gap:12px}.tab-bar{display:flex;gap:6px}.tab-btn{position:relative;padding:8px 16px;border:none;border-radius:10px 10px 0 0;background:linear-gradient(180deg,#1f2c3a,#0f1620);color:var(--muted);font-weight:800;letter-spacing:.04em;box-shadow:0 -1px #ffffff14,0 2px 8px #00000059;cursor:pointer}.tab-btn.active{background:linear-gradient(180deg,#2f4d6c,#1a2c42);color:#d9f3ff;box-shadow:0 -1px #ffffff1f,0 2px 10px #00000073}.tab-btn:hover{color:#eaf6ff}.dex-stats{margin-left:auto;font-size:12px;font-weight:800;letter-spacing:.04em;color:var(--muted);text-shadow:0 0 8px rgba(77,225,255,.3)}.dex-monitor .dex-stats{position:absolute;right:14px;bottom:10px}.tab-panel{display:none}.tab-panel.active{display:block}.tab-panel#tab-owned{position:relative;padding-top:56px;overflow:visible}.dex-body.owned-no-scroll{overflow:hidden!important}.dex-body.owned-no-scroll::-webkit-scrollbar{display:none}.count-badge{position:absolute;right:10px;bottom:8px;background:#000000a6;color:#fff;font-size:11px;padding:4px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.18);box-shadow:0 2px 6px #00000059}.card.got .count-badge{background:#183246cc;border-color:#4de1ff59}.card.locked .count-badge{background:#000c}.owned-stack{position:relative;min-height:320px;padding:0 12px 12px;display:flex;align-items:flex-end;justify-content:flex-start}.owned-stack .owned-title{position:absolute;top:8px;left:20px;right:20px;height:28px;display:flex;align-items:center;color:var(--text);font-weight:800;letter-spacing:.04em;text-shadow:0 0 10px rgba(77,225,255,.25)}.owned-stack .stack-area{position:relative;height:230px;width:100%;overflow-x:auto;overflow-y:hidden;padding:56px 16px 28px;scrollbar-width:thin}.owned-stack .stack-area::-webkit-scrollbar{height:10px}.owned-stack .stack-area::-webkit-scrollbar-track{background:#ffffff14;border-radius:999px}.owned-stack .stack-area::-webkit-scrollbar-thumb{background:#4de1ff73;border-radius:999px}.owned-stack .stack-card{position:absolute;top:20px;left:20px;width:160px;height:190px;border-radius:12px;border:1px solid rgba(77,225,255,.18);background:#fff;box-shadow:0 10px 20px #00000052;display:flex;align-items:center;justify-content:center;transition:box-shadow .12s ease;overflow:visible}.owned-stack .stack-card img{max-width:90%;max-height:90%;object-fit:contain;background:#fff}.owned-stack .stack-card:hover{transform:none;box-shadow:0 10px 18px #0000004d,0 0 0 1px #4de1ff33;z-index:9}.dex-body{max-height:360px;overflow-y:auto;padding:16px;background:linear-gradient(180deg,#0c141ff2,#0a0f18f5)}.dex-body::-webkit-scrollbar{width:8px}.dex-body::-webkit-scrollbar-thumb{background:#4de1ff59;border-radius:8px}.dex-body::-webkit-scrollbar-track{background:#ffffff0d}.history{margin-top:0;position:relative;z-index:1}.list{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}.history-row{position:relative;display:grid;gap:8px;align-items:flex-start}.small{font-size:12px;color:var(--muted)}.card.locked .small{color:#97a4ba}.badge{display:inline-block;padding:3px 8px;border-radius:999px;font-size:11px;font-weight:700;letter-spacing:.03em}.badge.got{background:#88ffba2e;border:1px solid rgba(136,255,186,.5);color:#0d4224}.badge.locked{background:#4de1ff1f;border:1px solid rgba(77,225,255,.35);color:#c9e8ff}.actions{margin-top:8px;display:flex;gap:10px;flex-wrap:wrap;font-size:12px}.actions a,.actions button{color:#0f6bdc;text-decoration:none;border:1px solid #7ac0ff;padding:6px 10px;border-radius:8px;background:#eef6ff;font-weight:700;box-shadow:inset 0 1px #fff;cursor:pointer}.actions a:hover,.actions button:hover{background:#d9ecff}.stats{color:var(--muted);font-size:12px;font-weight:700;letter-spacing:.02em;text-shadow:0 0 8px rgba(77,225,255,.2)}@keyframes drawPulse{0%{transform:scale(.98);box-shadow:0 0 #4de1ff80}40%{transform:scale(1.01);box-shadow:0 0 0 12px #4de1ff00}to{transform:scale(1);box-shadow:0 0 #4de1ff00}}.draw-anim{animation:drawPulse .85s ease}.modal{position:fixed;inset:0;background:#0009;display:none;align-items:center;justify-content:center;z-index:999}.modal.show{display:flex;animation:modalIn .25s ease}.modal-content{max-width:min(90vw,900px);max-height:min(90vh,900px);background:#0b0f18;border:2px solid rgba(77,225,255,.4);border-radius:12px;padding:10px;box-shadow:0 16px 40px #0009,0 0 24px #4de1ff40;transform:scale(.96);animation:popIn .25s ease forwards}.modal-content img{width:100%;height:100%;object-fit:contain;display:block;background:#fff}@keyframes popIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}@keyframes modalIn{0%{background:#0000}to{background:#0009}}.ground{height:120px;background:#fff}@keyframes shakeX{0%{transform:translate(0)}25%{transform:translate(-6px)}50%{transform:translate(6px)}75%{transform:translate(-6px)}to{transform:translate(0)}}.history .card.shake{animation:shakeX .32s ease}.canvas-blank{width:100%;min-height:420px;background:#fff;border:0;border-radius:14px;box-shadow:none;display:flex;align-items:center;justify-content:center;color:#2b313a;font-weight:800;letter-spacing:.04em}.dex-body,.owned-stack .stack-area{overscroll-behavior:contain}.result.canvas-mode{display:flex;align-items:center;justify-content:center;padding:14px;min-height:420px;height:auto;position:relative;width:100%}.result.canvas-mode .canvas-blank{width:100%;height:auto;min-height:420px;display:flex;align-items:center;justify-content:center;position:relative;padding:0;background:#fff;border:0;box-shadow:none}.screen-inner.canvas-mode{background:#fff;border-color:#d6dce5;box-shadow:inset 0 0 0 1px #0000000a,inset 0 0 0 2px #00000014,0 10px 26px #00000047;display:flex;align-items:center;justify-content:center;flex:0 0 auto;width:100%}.screen-inner.canvas-mode .canvas-blank{background:#fff;border:0;box-shadow:none}.canvas-board{position:relative;width:100%;min-height:420px;background:#fff;border-radius:8px;border:0;margin:0 auto}.canvas-item{position:absolute;padding:0;background:transparent;border:none;box-shadow:none;transform:translate(-50%,-50%) scale(var(--scale, 1));transform-origin:center center}.canvas-item img{display:block;width:auto;height:auto;max-width:260px;max-height:260px;object-fit:contain;background:transparent;border-radius:0}.canvas-caption{margin-top:6px;font-size:12px;font-weight:700;color:#2b313a;text-align:center}.canvas-hint{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:#5a6575;font-weight:700;letter-spacing:.04em}.canvas-guide{position:absolute;pointer-events:none;opacity:.65;filter:drop-shadow(0 8px 12px rgba(0,0,0,.25))}.canvas-guide img{display:block;max-width:260px;max-height:260px;object-fit:contain;background:transparent}.canvas-item.selected{outline:2px solid rgba(77,225,255,.8);box-shadow:0 0 12px #4de1ff73}.owned-selected-name{position:absolute;top:8px;left:16px;right:16px;padding:4px 8px;font-weight:800;color:var(--text);letter-spacing:.02em;min-height:22px;pointer-events:none}.owned-selected-stats{position:absolute;top:30px;left:16px;right:16px;padding:0 8px;font-size:12px;color:var(--muted);pointer-events:none}.stat-row{display:flex;align-items:center;gap:10px}.stat-led{display:inline-flex;align-items:center;gap:6px;font-weight:700}.stat-led .dot{width:16px;height:16px;border-radius:50%;box-shadow:0 0 8px currentColor,inset 0 1px 1px #ffffff80;background:radial-gradient(circle at 30% 30%,#fff,currentColor 55%,#111 100%)}.stat-led.red{color:#e86a6a}.stat-led.orange{color:#e6c05e}.stat-led.green{color:#7ee07a}.stat-led.cyan{color:#63c7ff}.owned-stack .stack-card:hover:after{content:"";position:absolute;left:-4px;right:-4px;bottom:-30px;height:30px;pointer-events:auto}.battle-mode{background:#fff;border-color:#d6dce5;box-shadow:inset 0 0 0 1px #0000000a,inset 0 0 0 2px #00000014,0 10px 26px #00000047}.battle-wrap{position:relative;width:100%;min-height:420px;display:flex;align-items:center;justify-content:center;color:#2b313a;font-weight:800;letter-spacing:.04em}.battle-text{padding:12px 16px;background:#0000000a;border-radius:12px;box-shadow:inset 0 1px #fff9,0 6px 14px #0003}.battle-preview{position:absolute;left:12px;bottom:12px;width:40%;height:40%;min-width:200px;min-height:200px;border:none;border-radius:4px;overflow:hidden;box-shadow:none;background:#fff}.battle-mini-board{position:relative;width:100%;height:100%;background:#fff;overflow:hidden}.battle-mini-scale{position:absolute;inset:0;width:400%;height:400%;transform:scale(.25);transform-origin:top left}.battle-mini-item{position:absolute;width:auto;height:auto;max-width:260px;max-height:260px;object-fit:contain;transform:translate(-50%,-50%);background:transparent}.battle-mini-scene{position:relative;width:100%;height:100%}.battle-scene{position:relative;width:100%;min-height:420px;height:420px;background:#fff;border-radius:8px;overflow:hidden;margin:0 auto;box-shadow:inset 0 1px #0000000d}.battle-item{position:absolute;padding:0;transform:translate(-50%,-50%) scale(var(--scale, 1));transform-origin:center center}.battle-item img{display:block;max-width:260px;max-height:260px;object-fit:contain;background:transparent}.canvas-item .resize-handle{position:absolute;bottom:-6px;right:-6px;width:14px;height:14px;border-radius:3px;background:#4de1ffe6;border:1px solid #0b1a2c;cursor:se-resize;opacity:0;transition:opacity .12s}.canvas-item.selected .resize-handle{opacity:1}.battle-clip{position:absolute;inset:0;width:100%;height:100%;overflow:hidden;pointer-events:none}.battle-clip:after{content:"";position:absolute;inset:0;border:2px dashed rgba(77,225,255,.6);border-radius:8px;pointer-events:none;box-shadow:0 0 0 1px #00000026;z-index:2}.battle-guide{border:2px dashed rgba(77,225,255,.6);border-radius:8px;box-shadow:0 0 0 1px #00000026;pointer-events:none;z-index:2}
